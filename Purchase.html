<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="AquaCheese">
        <title>AquaCheese Photography - Purchase Page</title>
        <style>
    body {
        background-color: #333;
        color: whitesmoke;
        text-align: center;
        font-family: Arial, Helvetica, sans-serif;
    }

    a {
        color: cornsilk;
    }
    a:visited {
        color: aqua;
    }
    a:hover {
        color: gray;
    }
    a:active {
        color: white;
    }

    form {
        background-color: #444;
        padding: 30px; /* Add padding for better spacing */
        border-radius: 10px; /* Rounded corners */
        display: inline-block;
        text-align: left;
        color: whitesmoke;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Add a subtle shadow */
        margin: 20px auto; /* Center the form vertically */
        width: 90%; /* Ensure the form doesn't stretch too wide */
        max-width: 400px; /* Limit the maximum width */
    }

    label {
        display: block;
        margin: 10px 0 5px;
    }

    input, select, button {
        width: 100%;
        padding: 10px;
        margin-bottom: 15px;
        border-radius: 5px;
        border: 1px solid #ccc;
        font-size: 16px;
    }

    button {
        background-color: green;
        color: white;
        border: none;
        cursor: pointer;
    }

    button:hover {
        background-color: darkgreen;
    }
</style>
        <link rel="icon" href="AquaCheese Logo.png">
    </head>
    <body>
        <!-- Login/Logout Modal -->
        <div id="authModal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); background-color:#444; padding:20px; border-radius:10px; box-shadow:0 4px 8px rgba(0,0,0,0.2);">
            <h2>Login/Register</h2>
            <form id="authForm">
                <label for="authEmail">Email</label>
                <input type="email" id="authEmail" name="authEmail" required>
                <label for="authPassword">Password</label>
                <input type="password" id="authPassword" name="authPassword" required>
                <button type="submit">Submit</button>
            </form>
            <button onclick="toggleAuthModal()">Close</button>
        </div>

        <!-- Cart Button -->
        <button id="cartButton" style="position:fixed; top:10px; right:10px; background-color:#444; color:whitesmoke; border:none; padding:10px; border-radius:5px; cursor:pointer;">Cart</button>

        <!-- Cart Panel -->
        <div id="cartPanel" style="display:none; position:fixed; top:50px; right:10px; background-color:#444; padding:20px; border-radius:10px; box-shadow:0 4px 8px rgba(0,0,0,0.2);">
            <h2>Cart</h2>
            <ul id="cartItems"></ul>
            <button onclick="toggleCartPanel()">Close</button>
        </div>

        <h1>Checkout Page</h1>
        <p>Please fill out the form below to complete your purchase.</p>

        <form id="paymentForm">
            <label for="name">Full Name</label>
            <input type="text" id="name" name="name" placeholder="Enter your full name" required>

            <label for="email">Email Address</label>
            <input type="email" id="email" name="email" placeholder="Enter your email address" required>

            <label for="amount">Amount Due (£)</label>
            <input type="text" id="amount" name="amount" readonly>

            <label for="paymentMethod">Payment Method</label>
            <select id="paymentMethod" name="paymentMethod" required>
                <option value="creditCard">Credit/Debit Card</option>
                <option value="paypal">PayPal</option>
            </select>

            <button type="submit">Pay Now</button>
        </form>

        <br><br>
        <a href="index.html">Back to Main Page</a>
        <br><br>
        &lt;&lt;&lt;&nbsp; &copy; 2025 AquaCheese &nbsp;&gt;&gt;&gt;

        <script>
    // Retrieve the amount due from localStorage
    const amountInput = document.getElementById('amount');
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const singleItem = JSON.parse(localStorage.getItem('singleItem')) || null;

    if (singleItem) {
        // If a single item was selected for purchase
        amountInput.value = singleItem.price.toFixed(2);
    } else if (cart.length > 0) {
        // If the entire cart is being purchased
        const total = cart.reduce((sum, item) => sum + item.price, 0);
        amountInput.value = total.toFixed(2);
    } else {
        // Default to 0 if no items are selected
        amountInput.value = '0.00';
    }

    // Handle form submission
    document.getElementById('paymentForm').addEventListener('submit', function (e) {
        e.preventDefault();

        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const amount = parseFloat(amountInput.value);
        const paymentMethod = document.getElementById('paymentMethod').value;

        if (amount <= 0) {
            alert('No items selected for purchase.');
            return;
        }

        alert(`Processing payment of £${amount.toFixed(2)} for ${name} (${email}) using ${paymentMethod}.`);

        // Placeholder for payment processing logic
        // You can integrate Stripe, PayPal, or another payment gateway here
        console.log('Payment details:', { name, email, amount, paymentMethod });

        // Clear localStorage after successful payment
        localStorage.removeItem('cart');
        localStorage.removeItem('singleItem');

        // Redirect to a success page or display a success message
        alert('Payment successful! Thank you for your purchase.');
        window.location.href = 'index.html';
    });

    // Toggle auth modal visibility
    function toggleAuthModal() {
        const authModal = document.getElementById('authModal');
        authModal.style.display = authModal.style.display === 'none' ? 'block' : 'none';
    }

    // Toggle cart panel visibility
    function toggleCartPanel() {
        const cartPanel = document.getElementById('cartPanel');
        cartPanel.style.display = cartPanel.style.display === 'none' ? 'block' : 'none';
    }

    // Populate cart items
    const cartItemsList = document.getElementById('cartItems');
    cart.forEach(item => {
        const listItem = document.createElement('li');
        listItem.textContent = `${item.name} - £${item.price.toFixed(2)}`;
        cartItemsList.appendChild(listItem);
    });

    // Cart button click event
    document.getElementById('cartButton').addEventListener('click', toggleCartPanel);
</script>
    </body>
</html>